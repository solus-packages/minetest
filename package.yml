name       : minetest
version    : 5.0.0
release    : 7
source     :
    - https://github.com/minetest/minetest/archive/5.0.0.tar.gz : 1ba816f77dc9dbd5a4995f0c1d482f8f22b9aa75b6d6999dbfd1f3d698363d0a
    - https://github.com/minetest/minetest_game/archive/5.0.0.zip : ca0d02ecf126d7ddbd2d95bfbd36664b21eaa6777b59d3e42455ab1097e3cfcd
license    :
    - LGPL-2.1-or-later
    - CC-BY-SA-3.0
summary    : Minetest, an open source infinite-world block sandbox game with survival and crafting.
description: |
    Minetest, an open source infinite-world block sandbox game with survival and crafting.
builddeps  :
    - pkgconfig(freetype2)
    - pkgconfig(gl)
    - pkgconfig(jsoncpp)
    - pkgconfig(libcurl)
    - pkgconfig(libjpeg)
    - pkgconfig(libspatialindex)
    - pkgconfig(luajit)
    - pkgconfig(openal)
    - pkgconfig(sqlite3)
    - pkgconfig(vorbis)
    - bzip2-devel
    - irrlicht-devel
    - leveldb-devel
component  : games
setup      : |
    %cmake_ninja -DENABLE_SYSTEM_JSONCPP=ON
build      : |
    %ninja_build
install    : |
    %ninja_install
    unzip -u $sources/${version}.zip
    install -Ddm00644 $installdir/usr/share/minetest/games/minetest_game
    cp -r minetest_game-${version}/* $installdir/usr/share/minetest/games/minetest_game
