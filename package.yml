name       : minetest
version    : 5.0.1
release    : 9
source     :
    - https://github.com/minetest/minetest/archive/5.0.1.tar.gz : aa771cf178ad1b436d5723e5d6dd24e42b5d56f1cfe9c930f6426b7f24bb1635
    - https://github.com/minetest/minetest_game/archive/5.0.1.zip : 8bd8a6ff8c690e8e33b7b6cac2aec07643392cade5e470ccfb0fa5ebd99de919
license    :
    - CC-BY-SA-3.0
    - LGPL-2.1-or-later
summary    : Minetest, an open source infinite-world block sandbox game with survival
    and crafting.
description: |
    Minetest, an open source infinite-world block sandbox game with survival and crafting.
builddeps  :
    - pkgconfig(freetype2)
    - pkgconfig(gl)
    - pkgconfig(jsoncpp)
    - pkgconfig(libcurl)
    - pkgconfig(libjpeg)
    - pkgconfig(libspatialindex)
    - pkgconfig(luajit)
    - pkgconfig(openal)
    - pkgconfig(sqlite3)
    - pkgconfig(vorbis)
    - bzip2-devel
    - irrlicht-devel
    - leveldb-devel
component  : games
setup      : |
    %cmake_ninja -DENABLE_SYSTEM_JSONCPP=ON
build      : |
    %ninja_build
install    : |
    %ninja_install
    unzip -u $sources/${version}.zip
    install -Ddm00644 $installdir/usr/share/minetest/games/minetest_game
    cp -r minetest_game-${version}/* $installdir/usr/share/minetest/games/minetest_game
